<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="map[name:Jose Coelho]"><meta name=description content="Ramblings about software engineering"><meta name=keywords content="go,golang,kubernetes,ansible,chef,kafka,docker,containers"><link rel=canonical href=https://www.jacoelho.com/categories/postgresql/><title>Postgresql :: Posts</title><link rel=stylesheet href=https://www.jacoelho.com/css/main.min.119ac2c18046a4ef9e7705b9cd71e1fc8cbe5a5139a1234cfdae109d1baedb3c.css integrity="sha256-EZrCwYBGpO+edwW5zXHh/Iy+WlE5oSNM/a4QnRuu2zw=" crossorigin=anonymous><link rel=alternate type=application/rss+xml href=https://www.jacoelho.com/categories/postgresql/index.xml title=Posts><meta itemprop=name content="Postgresql"><meta itemprop=description content="Ramblings about software engineering"><meta itemprop=datePublished content="2022-05-02T10:00:00+00:00"><meta itemprop=dateModified content="2022-05-02T10:00:00+00:00"><meta property="og:url" content="https://www.jacoelho.com/categories/postgresql/"><meta property="og:site_name" content="Posts"><meta property="og:title" content="Postgresql"><meta property="og:description" content="Ramblings about software engineering"><meta property="og:locale" content="en_us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Postgresql"><meta name=twitter:description content="Ramblings about software engineering"></head><body><header class=header><div class=container><div class=header-inner><a href=https://www.jacoelho.com/ class=logo>Jose Coelho</a><nav class=nav><ul class=menu><li class=menu-item><a href=https://www.jacoelho.com/about/>About</a></li></ul><button class=menu-trigger aria-label="Toggle menu" aria-expanded=false>
<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
</button>
<button class=theme-toggle aria-label="Toggle theme">
<svg class="theme-icon-light" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
<svg class="theme-icon-dark" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
</button>
<a href=https://www.jacoelho.com/index.xml class=rss-link target=_blank rel=noopener aria-label=RSS><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 019 9"/><path d="M4 4a16 16 0 0116 16"/><circle cx="5" cy="19" r="1"/></svg></a></nav></div></div></header><div class=container><div class=content><main class=posts><h1>Postgresql</h1><article class=post-item><h2 class=post-title><a href=https://www.jacoelho.com/blog/2022/05/opentelemetry-log-based-change-data-capture-tracing/>Opentelemetry - Log-Based Change Data Capture tracing</a></h2><div class=post-meta><span class=post-meta-item><time datetime=2022-05-02>May 2, 2022</time></span></div><p class=post-summary><p><a href=https://opentelemetry.io/>Opentelemetry</a> provides vendor neutral standards and implementations to generate, collect, and export tracing data.</p><p>A Context is a propagation mechanism which carries execution-scoped values across API boundaries and between logically associated execution units. Cross-cutting concerns access their data in-process using the same shared Context object.</p><p>Context propagation is required when the tracing needs to cross process or service boundaries. Common ways to propagate the context is using <a href=https://www.w3.org/TR/trace-context/>W3C Trace Context</a> or <a href=https://github.com/openzipkin/b3-propagation>Zipkin B3 headers</a>, while to inject the context is, for example, http headers or metadata fields in event messages.</p></p></article><article class=post-item><h2 class=post-title><a href=https://www.jacoelho.com/blog/2021/06/postgresql-uuid-vs-text/>PostgreSQL - UUID vs TEXT</a></h2><div class=post-meta><span class=post-meta-item><time datetime=2021-06-05>June 5, 2021</time></span></div><p class=post-summary><p>In PostgreSQL one can represent <a href=https://en.wikipedia.org/wiki/Universally_unique_identifier>UUID</a> as <code>UUID</code>, <code>TEXT</code> or <code>VARCHAR</code> built-in types.</p><h3 id=which-type-represents-a-uuid-more-efficiently-mainly-in-the-jsonb-context>Which type represents a UUID more efficiently? Mainly in the JSONB context?</h3><p>My gut feeling says built-in type <code>UUID</code> is way better.</p><p>One trap with using <code>TEXT</code> is trying to compare different cases with equals:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sql data-lang=sql><span class=line><span class=cl><span class=k>select</span><span class=w> </span><span class=s1>&#39;ef9f94da-98ef-49fa-8224-32f3e1f592b3&#39;</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=s1>&#39;EF9F94DA-98EF-49FA-8224-32F3E1F592B3&#39;</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=n>equal</span><span class=p>;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w> </span><span class=n>equal</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c1>-------
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=w> </span><span class=n>f</span><span class=w>
</span></span></span></code></pre></div><p>Checking the relevant <a href=https://datatracker.ietf.org/doc/html/rfc4122#section-3>RFC4122</a> section:</p><pre tabindex=0><code>Each field is treated as an integer and has its value printed as a
zero-filled hexadecimal digit string with the most significant
digit first.  The hexadecimal values &#34;a&#34; through &#34;f&#34; are output as
lower case characters and are case insensitive on input.
</code></pre><p>Which the <code>UUID</code> type correctly handles:</p></p></article></main></div></div><footer class=footer><div class=container><div class=footer-content><span>&copy; 2025 Jose Coelho</span></div></div></footer><script src=https://www.jacoelho.com/js/bundle.min.2868f841c78e77d7b473d034a52bb46f21b12eef84caba5767ed9a65576ecb3c.js integrity="sha256-KGj4QceOd9e0c9A0pSu0byGxLu+EyrpXZ+2aZVduyzw=" crossorigin=anonymous></script></body></html>