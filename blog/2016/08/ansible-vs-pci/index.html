<!doctype html><html lang=en><head><meta charset=UTF-8><meta http-equiv=X-UA-Compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=author content="Jose Coelho"><meta name=description content="Ramblings about software engineering"><meta name=keywords content="go,golang,kubernetes,ansible,chef,kafka,docker,containers"><link rel=canonical href=https://www.jacoelho.com/blog/2016/08/ansible-vs-pci/><title>Ansible vs PCI :: Posts</title><link rel=stylesheet href=https://www.jacoelho.com/css/main.min.6f3353616359b0fe4cfe1d29dc41b46980dd1459838e2e6175f34881197cc945.css integrity="sha256-bzNTYWNZsP5M/h0p3EG0aYDdFFmDji5hdfNIgRl8yUU=" crossorigin=anonymous><meta itemprop=name content="Ansible vs PCI"><meta itemprop=description content="If you need to comply with PCI
requirements
like:
Requirement 2: Maintain an inventory of system components in scope for PCI DSS
to support effective scoping practices.
You will find that using public-key authentication is sometimes
forbidden
as it’s almost impossible to ensure employees are rotating the keys, keeping the
private key safe and with a strong password.
Using Ansible without ssh key based authentication is painful if you need to
run a playbook against hundreds of servers, as you will need to insert your
password ad nauseam."><meta itemprop=datePublished content="2016-08-16T10:24:46+00:00"><meta itemprop=dateModified content="2016-08-16T10:24:46+00:00"><meta itemprop=wordCount content="190"><meta itemprop=keywords content="Ansible"><meta property="og:url" content="https://www.jacoelho.com/blog/2016/08/ansible-vs-pci/"><meta property="og:site_name" content="Posts"><meta property="og:title" content="Ansible vs PCI"><meta property="og:description" content="If you need to comply with PCI
requirements
like:
Requirement 2: Maintain an inventory of system components in scope for PCI DSS
to support effective scoping practices.
You will find that using public-key authentication is sometimes
forbidden
as it’s almost impossible to ensure employees are rotating the keys, keeping the
private key safe and with a strong password.
Using Ansible without ssh key based authentication is painful if you need to
run a playbook against hundreds of servers, as you will need to insert your
password ad nauseam."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2016-08-16T10:24:46+00:00"><meta property="article:modified_time" content="2016-08-16T10:24:46+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Ansible vs PCI"><meta name=twitter:description content="If you need to comply with PCI
requirements
like:
Requirement 2: Maintain an inventory of system components in scope for PCI DSS
to support effective scoping practices.
You will find that using public-key authentication is sometimes
forbidden
as it’s almost impossible to ensure employees are rotating the keys, keeping the
private key safe and with a strong password.
Using Ansible without ssh key based authentication is painful if you need to
run a playbook against hundreds of servers, as you will need to insert your
password ad nauseam."><meta property="article:published_time" content="2016-08-16 10:24:46 +0000 UTC"><meta property="article:section" content="ansible"></head><body><header class=header><div class=container><div class=header-inner><a href=https://www.jacoelho.com/ class=logo>Jose Coelho</a><nav class=nav><button class=menu-trigger aria-label="Toggle menu" aria-expanded=false>
<svg width="24" height="24"><use href="https://www.jacoelho.com/icons.svg#menu"/></svg></button><div class=nav-menu><ul class=menu><li class=menu-item><a href=https://www.jacoelho.com/about/>About</a></li></ul><button class=theme-toggle aria-label="Toggle theme">
<svg class="theme-icon-light" width="20" height="20"><use href="https://www.jacoelho.com/icons.svg#sun"/></svg>
<svg class="theme-icon-dark" width="20" height="20"><use href="https://www.jacoelho.com/icons.svg#moon"/></svg>
</button>
<a href=https://www.jacoelho.com/index.xml class=rss-link target=_blank rel=noopener aria-label=RSS><svg width="20" height="20"><use href="https://www.jacoelho.com/icons.svg#rss"/></svg></a></div></nav></div></div></header><div class=container><div class=content><main class=post><article><header class=post-header><h1 class=post-title>Ansible vs PCI</h1></header><div class=post-content><p>If you need to comply with <a href=https://www.pcisecuritystandards.org/documents/PCIDSS_QRGv3_1.pdf>PCI<br>requirements</a><br>like:</p><blockquote><p><em>Requirement 2: Maintain an inventory of system components in scope for PCI DSS<br>to support effective scoping practices.</em></p></blockquote><p>You will find that using public-key authentication is sometimes<br><a href=https://security.stackexchange.com/questions/47213/pci-dss-2-0-and-ssh-keys>forbidden</a><br>as it’s almost impossible to ensure employees are rotating the keys, keeping the<br>private key safe and with a strong password.</p><p>Using <em>Ansible</em> without ssh key based authentication is painful if you need to<br>run a playbook against hundreds of servers, as you will need to insert your<br>password <em>ad nauseam</em>.</p><h3 id=ansible-vault-to-the-rescue>Ansible Vault To The Rescue</h3><blockquote><p>“Vault” is a feature of ansible that allows keeping sensitive data such as<br>passwords or keys in encrypted files.</p></blockquote><p>We can leverage <em>Ansible Vault</em> to keep the user password stored in a safe way:</p><pre tabindex=0><code>mkdir group_vars
ansible-vault create group_vars/all.yml
</code></pre><p>After providing a password (although I am not aware of a way to audit that the<br>password is good enough), insert all the need <em>Ansible</em> credentials:</p><pre tabindex=0><code>ansible_user: &lt;username&gt;
ansible_ssh_pass: &lt;password&gt;
ansible_become_pass: &lt;sudo password&gt;
</code></pre><p>We can run any <em>Ansible</em> playbook easily:</p><pre tabindex=0><code>ansible-playbook -i inventory.ini playbook.yml --ask-vault-pass
</code></pre><p>Using <em>Ansible Vault</em> we can follow <em>PCI</em> guidelines without jeopardising<br>productivity or security.</p></div></article></main></div></div><footer class=footer><div class=container><div class=footer-content><span>&copy; 2025 Jose Coelho</span></div></div></footer><script src=https://www.jacoelho.com/js/bundle.min.c687f63d8e204d7466c7c9609ec6f61b44c1217490b36198e5f77ee3befc11ea.js integrity="sha256-xof2PY4gTXRmx8lgnsb2G0TBIXSQs2GY5fd+4778Eeo=" crossorigin=anonymous></script></body></html>